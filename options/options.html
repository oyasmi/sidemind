<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SideMind Options</title>
  <link rel="stylesheet" href="options.css">
  <link rel="stylesheet" href="../assets/css/fontawesome.min.css">
</head>
<body>
  <div class="options-container">
    <header class="options-header">
      <h1>SideMind Configuration</h1>
    </header>

    <main class="options-main">
      <!-- Service Providers Section -->
      <section class="section">
        <h2>Service Providers</h2>
        <div id="providersList" class="providers-list">
          <!-- Providers will be added here -->
        </div>
        <button id="addProviderBtn" class="btn btn-secondary">
          <i class="fas fa-plus btn-icon"></i>
          Add Provider
        </button>
      </section>

      <!-- LLM Parameters Section -->
      <section class="section">
        <h2>LLM Parameters</h2>
        <div class="parameter-group">
          <label for="temperatureSlider">Temperature: <span id="temperatureValue">0.7</span></label>
          <input type="range" id="temperatureSlider" min="0" max="2" step="0.1" value="0.7" class="slider">
          <small class="parameter-description">Controls randomness in responses. Higher values like 0.8 make output more random, while lower values like 0.2 make it more focused and deterministic.</small>
        </div>

        <div class="parameter-group">
          <label for="maxCompletionTokensInput">Max Completion Tokens</label>
          <input type="text" id="maxCompletionTokensInput" placeholder="Leave empty to use model default" class="text-input">
          <small class="parameter-description">Upper bound for the number of tokens that can be generated, including visible output and reasoning tokens. Leave empty to use model default.</small>
        </div>

        <div class="parameter-group">
          <label for="streamSelector">Stream Response</label>
          <select id="streamSelector" class="select-input">
            <option value="true" selected>Enabled (Streaming)</option>
            <option value="false">Disabled (Complete Response)</option>
          </select>
          <small class="parameter-description">If enabled, the model response will be streamed as it's generated using server-sent events.</small>
        </div>
      </section>

      <!-- System Prompts Section -->
      <section class="section">
        <h2>System Prompts</h2>
        <div id="promptsList" class="prompts-list">
          <!-- Prompts will be added here -->
        </div>
        <button id="addPromptBtn" class="btn btn-secondary">
          <i class="fas fa-plus btn-icon"></i>
          Add Prompt
        </button>
      </section>

      <!-- Appearance Section -->
      <section class="section">
        <h2>Appearance</h2>
        <div class="parameter-group">
          <label for="fontSizeSelector">Font Size</label>
          <select id="fontSizeSelector" class="select-input">
            <option value="13px">Small</option>
            <option value="14px" selected>Default</option>
            <option value="15px">Large</option>
            <option value="16px">Extra Large</option>
          </select>
          <small class="parameter-description">Controls the base font size in the sidebar.</small>
        </div>

        <div class="parameter-group">
          <label for="fontFamilySelector">Font Family</label>
          <select id="fontFamilySelector" class="select-input">
            <option value='system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif'>System Default</option>
            <option value='Georgia, "Times New Roman", Times, serif'>Serif</option>
            <option value='"Courier New", Courier, monospace'>Monospace</option>
            <option value="custom">Custom</option>
          </select>
          <input type="text" id="customFontFamilyInput" class="text-input hidden" placeholder="Enter custom font family (e.g., 'Arial', 'Times New Roman')">
          <small class="parameter-description">Controls the font family used in the sidebar.</small>
        </div>
      </section>
    </main>

    <footer class="options-footer">
      <div class="actions">
        <button id="exportBtn" class="btn btn-secondary">Export Config</button>
        <button id="importBtn" class="btn btn-secondary">Import Config</button>
        <input type="file" id="importFile" accept=".json" style="display: none;">
      </div>
      <button id="saveBtn" class="btn btn-primary">Save Configuration</button>
    </footer>

    <div class="copyright">
      © oyasmi@yeah.net 2025
    </div>
  </div>

  <!-- Modals -->
  <div id="providerModal" class="modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-panel">
      <div class="modal-header">
        <h3 id="providerModalTitle">Add Service Provider</h3>
        <button class="modal-close-btn" aria-label="Close">
          <i class="fas fa-chevron-down"></i>
        </button>
      </div>
      <div class="modal-body">
        <form id="providerForm">
          <div class="form-group">
            <label for="providerName">Provider Name</label>
            <input type="text" id="providerName" required>
          </div>
          <div class="form-group">
            <label for="providerBaseUrl">Base URL</label>
            <input type="url" id="providerBaseUrl" placeholder="https://api.example.com/v1" required>
          </div>
          <div class="form-group">
            <label for="providerApiKey">API Key</label>
            <input type="password" id="providerApiKey" required>
          </div>
          <div class="form-group">
            <label>Models</label>
            <div id="modelsList" class="models-list">
              <div class="model-item">
                <input type="text" placeholder="Model Name" class="model-name" required>
                <input type="text" placeholder="Model ID" class="model-id" required>
                <button type="button" class="btn-remove-model">×</button>
              </div>
            </div>
            <button type="button" id="addModelBtn" class="btn btn-small">Add Model</button>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button id="providerCancelBtn" class="btn btn-secondary">Cancel</button>
        <button id="providerSaveBtn" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>

  <div id="promptModal" class="modal hidden">
    <div class="modal-overlay"></div>
    <div class="modal-panel">
      <div class="modal-header">
        <h3 id="promptModalTitle">Add System Prompt</h3>
        <button class="modal-close-btn" aria-label="Close">
          <i class="fas fa-chevron-down"></i>
        </button>
      </div>
      <div class="modal-body">
        <form id="promptForm">
          <div class="form-group">
            <label for="promptName">Prompt Name</label>
            <input type="text" id="promptName" required>
          </div>
          <div class="form-group">
            <label for="promptContent">Content</label>
            <textarea id="promptContent" rows="6" placeholder="Enter the system prompt content..." required></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button id="promptCancelBtn" class="btn btn-secondary">Cancel</button>
        <button id="promptSaveBtn" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>

  
  <script src="options.js"></script>
</body>
</html>